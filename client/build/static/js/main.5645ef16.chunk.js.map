{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"6YAGaA,EAAW,yDAAK,WAAMC,GAAN,eAAAC,EAAA,sEACPC,IAAMC,IAAI,qBADH,OACnBC,EADmB,OAEzBJ,EAAS,CAACK,KCLY,aDKMC,QAAQF,EAAIG,OAFf,2CAAL,uDAKXC,EAAa,SAACC,GAAD,8CAAU,WAAMT,GAAN,eAAAC,EAAA,sEACdC,IAAMQ,KAAK,cAAeD,GADZ,OAC1BL,EAD0B,OAEhCJ,EAAS,CAACK,KCVY,aDUMC,QAASF,EAAIG,OAFT,2CAAV,uD,iBEHpBI,E,uKACQ,IAAD,OACL,OACI,kBAAC,IAAD,CACIC,KAAK,SACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAI,EAAKM,MAAMP,YAAYC,IACvCO,UAAWC,8CACX,4BAAQC,UAAU,OAAlB,oB,GATOC,aAiBRC,cAAQ,KAAKC,EAAbD,CAAsBT,GCjB/BW,E,8KAIE,OAAQC,KAAKR,MAAMS,MACf,KAAK,KACD,OACJ,KAAK,EACD,OAAO,4BAAI,uBAAGC,KAAK,gBAAR,uBACf,QACI,MAAQ,CACJ,wBAAIC,IAAI,KAAI,kBAAC,EAAD,OACZ,wBAAIA,IAAI,IAAIC,MAAO,CAACC,OAAO,WAA3B,YAAgDL,KAAKR,MAAMS,KAAKK,SAChE,wBAAIH,IAAI,KAAI,uBAAGD,KAAK,eAAR,gB,+BAMxB,OACE,6BACI,yBAAKP,UAAU,eACX,kBAAC,IAAD,CAAMY,GAAIP,KAAKR,MAAMS,KAAO,WAAa,IAAKN,UAAU,mBAAxD,UACA,wBAAIA,UAAU,UACTK,KAAKQ,uB,GAxBPZ,aAqCNC,mBALf,YAEI,MAAO,CAACI,KAFqB,EAAPA,QAKXJ,CAAyBE,GC7BzBU,EAXA,WACX,OACI,yBAAKL,MAAO,CAACM,UAAU,WACnB,uCAGA,kECDNC,EAAW,kBAAI,4CACfC,EAAW,kBAAI,4CAKfC,E,kLAIEb,KAAKR,MAAMhB,c,+BAKX,OACI,yBAAKmB,UAAU,aACX,kBAAC,IAAD,KACI,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,IAAIC,UAAWP,IACjC,kBAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,kBAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,eAAeC,UAAWJ,U,GAf9ChB,aAsBHC,cAAQ,KAAMC,EAAdD,CAAuBgB,GChCvBI,cAAgB,CAC3BhB,KCFW,WAA+B,IAArBiB,EAAoB,uDAAb,KAAKC,EAAQ,uCAEzC,OAAQA,EAAOrC,MACX,INLkB,aMMd,OAAOqC,EAAOpC,UAAW,EAC7B,QAAS,OAAOmC,MCIlBE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAASA,GAAO,kBAAC,EAAD,OAC1BO,SAASC,eAAe,W","file":"static/js/main.5645ef16.chunk.js","sourcesContent":["import axios from 'axios';\nimport {FETCH_USER} from \"./types\";\n\nexport const fetchUser =()=> async dispatch => {\n    const res = await axios.get('/api/current_user');\n    dispatch({type: FETCH_USER, payload:res.data})\n};\n\nexport const handleToken =(token)=> async dispatch =>{\n    const res = await axios.post('/api/stripe', token)\n    dispatch({type: FETCH_USER, payload: res.data})\n};\n\n\n\n","export const FETCH_USER = 'fetch_user';\n","import React, {Component} from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport {connect} from \"react-redux\";\nimport * as actions from '../actions';\n\nclass Payments extends Component{\n    render() {\n        return (\n            <StripeCheckout\n                name=\"Emaily\"\n                description=\"$5 for 5 email credits\"\n                amount={500}\n                token={token => this.props.handleToken(token)}\n                stripeKey={process.env.REACT_APP_STRIPE_KEY} >\n                <button className='btn'>ADD CREDITS</button>\n            </StripeCheckout>\n        );\n    }\n}\n\n\n\nexport default connect(null,actions)(Payments);\n","import React, {Component} from 'react';\nimport {connect} from \"react-redux\";\nimport {Link} from \"react-router-dom\";\nimport Payments from './Payments';\n\nclass Header extends Component{\n\n    renderContent() {\n\n        switch (this.props.auth) {\n            case null:\n                return;\n            case false:\n                return <li><a href=\"/auth/google\">Log in with Google</a></li>;\n            default:\n                return  [\n                    <li key=\"1\"><Payments/></li>,\n                    <li key='3' style={{margin:'0 10px'}}>Credits: {this.props.auth.credits}</li>,\n                    <li key=\"2\"><a href=\"/api/logout\">Log out</a></li>\n                ];\n        }\n    }\n\n    render() {\n        return (\n          <nav>\n              <div className=\"nav-wrapper\">\n                  <Link to={this.props.auth ? '/surveys' : '/'} className=\"left brand-logo\" >Emaily</Link>\n                  <ul className=\"right \">\n                      {this.renderContent()}\n                  </ul>\n              </div>\n          </nav>\n        )\n    }\n}\n\nfunction mapStateToProps({auth}) {\n\n    return {auth};\n}\n\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\n\nconst Landing =()=>{\n    return(\n        <div style={{textAlign:\"center\"}}>\n            <h1>\n                Emaily!\n            </h1>\n            <p>Collect feedback from your users.</p>\n        </div>\n    )\n};\n\nexport default Landing;\n","import React, {Component} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {connect} from \"react-redux\";\nimport * as actions from '../actions'\n\nimport Header from './Header';\nimport Landing from './Landing';\nconst Dashboard =()=><h2> Dashboard </h2>;\nconst SurveyNew =()=><h2> SurveyNew </h2>;\n\n\n\n\nclass App extends Component {\n\n    componentDidMount() {\n\n        this.props.fetchUser();\n\n    }\n\n    render() {\n        return(\n            <div className=\"container\">\n                <BrowserRouter>\n                    <Header/>\n                    <Route exact path='/' component={Landing}/>\n                    <Route exact path='/surveys' component={Dashboard}/>\n                    <Route exact path='/surveys/new' component={SurveyNew}/>\n                </BrowserRouter>\n            </div>\n        );\n    }\n}\n\nexport default connect(null, actions)(App);\n","import {combineReducers} from \"redux\";\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    auth:authReducer\n})\n","import {FETCH_USER} from \"../actions/types\";\n\nexport default function (state =null,action) {\n\n    switch (action.type) {\n        case FETCH_USER:\n            return action.payload || false;\n        default: return state;\n    }\n}\n","import 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from \"redux\";\nimport reduxThunk from 'redux-thunk';\nimport App from './components/App';\nimport reducers from './reducers';\n\n\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk))\n\nReactDOM.render(\n    <Provider store = {store}><App/></Provider>,\n    document.getElementById('root')\n);\n\n\n\n\n\n"],"sourceRoot":""}